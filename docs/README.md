![alt text](cli.png "CLI")

1. CLI представляет собой программу, бесконечно читающую из stdin.
2. Для подающийся на вход строки осуществляется подстановка $template в Substitutor.
3. Tokenizer - оперирует токенами:
- Принимает обогащённую строку и разбирает её на токены различных типов (это может быть задание переменной окружения, либо путь до бинарника).
- Разделяет поток на несколько потоков токенов по пайпу |.
- Засылает полученный массив потоков токенов в Interpreter.
4. Interpreter интерпретирует поток токенов:
- Если полученный токен - обновление переменной окружения, то обогащает Context CLI.
- Если полученный токен - команда, то определяет тип команды и пакует в массив для передачи Executor.
5. Executor отвечает за исполнение команд:
- По переданному типу команды CommandType получает абстракцию команды, передаёт аргументы и ключи на вход и исполняет её.
- Отвечает за передачу данных из Input в Output при вызове каждой последующей команды (pipes).
